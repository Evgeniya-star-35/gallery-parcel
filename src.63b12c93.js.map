{"version":3,"sources":["js/main.js","js/refs.js","js/render.js","js/functions.js","index.js"],"names":["galleryItems","preview","original","description","refs","galleryEl","document","querySelector","backdrop","modal","lightboxImg","lightboxOverlay","btnModalClose","createGallery","map","index","join","imgGallery","insertAdjacentHTML","onClickGalleryItem","e","preventDefault","window","addEventListener","onClickEsc","target","nodeName","classList","add","src","dataset","source","alt","onClickCloseModal","remove","onCloseButtonClick","removeEventListener","onCloseOverlayClick","currentTarget","code","onArrowLeft","newSrc","length","onArrowRight","step"],"mappings":"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","file":"src.63b12c93.js","sourceRoot":"..\\src","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\nexport default galleryItems;\r\n","import galleryItems from \"./main\";\r\nexport const refs = {\r\n  galleryEl: document.querySelector('.js-gallery'),\r\n  backdrop: document.querySelector('.js-lightbox'),\r\n  modal: document.querySelector('.lightbox__content'),\r\n  lightboxImg: document.querySelector('.lightbox__image'),\r\n  lightboxOverlay: document.querySelector('div.lightbox__overlay'),\r\n  btnModalClose: document.querySelector('[data-action=\"close-lightbox\"]'),\r\n};","import galleryItems from \"./main\";\r\nimport {refs} from './refs';\r\n\r\nexport function createGallery(galleryItems) {\r\n  return galleryItems\r\n    .map(({ preview, original, description }, index) => {\r\n      return `<li class=\"gallery__item ><a class=\"gallery__link\"\r\n      href=\"${original}\"\r\n    >\r\n      <img\r\n        class=\"gallery__image\"\r\n        src=\"${preview}\"\r\n        data-source=\"${original}\"\r\n        alt=\"${description}\" data-index=\"${index}\"\r\n      />\r\n    </a>\r\n  </li>`;\r\n    })\r\n    .join('');\r\n}\r\n\r\nexport const imgGallery = createGallery(galleryItems);\r\n\r\nrefs.galleryEl.insertAdjacentHTML('beforeend', imgGallery);","export function onClickGalleryItem(e) {\r\n  e.preventDefault();\r\n  window.addEventListener('keydown', onClickEsc);\r\n  const target = e.target;\r\n  if (target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  if (target.nodeName === 'IMG') {\r\n    refs.backdrop.classList.add('is-open');\r\n    // refs.lightboxImg.src = target.getAttribute('data-source');\r\n    refs.lightboxImg.src = target.dataset.source;\r\n    refs.lightboxImg.alt = target.alt;\r\n    refs.lightboxImg.dataset.index = e.target.dataset.index;\r\n  }\r\n}\r\nexport function onClickCloseModal() {\r\n  refs.backdrop.classList.remove('is-open');\r\n}\r\n\r\nexport function onCloseButtonClick(e) {\r\n  window.removeEventListener('keydown', onClickEsc);\r\n\r\n  e.preventDefault();\r\n  onClickCloseModal();\r\n  refs.lightboxImg.src = '';\r\n  refs.lightboxImg.alt = '';\r\n}\r\nexport function onCloseOverlayClick(e) {\r\n  if (e.target === e.currentTarget) {\r\n    onClickCloseModal();\r\n  }\r\n}\r\n\r\nexport function onClickEsc(e) {\r\n  const ESC_KEY_CODE = 'Escape';\r\n  if (e.code === ESC_KEY_CODE) {\r\n    onClickCloseModal();\r\n  }\r\n}\r\nwindow.addEventListener('keydown', e => {\r\n  if (e.code === 'ArrowLeft') {\r\n    onArrowLeft();\r\n  }\r\n  if (e.code === 'ArrowRight') {\r\n    onArrowRight();\r\n  }\r\n});\r\n\r\nexport function onArrowLeft() {\r\n  let index = +refs.lightboxImg.dataset.index;\r\n\r\n  if (index === 0) {\r\n    newSrc(index, galleryItems.length - 1);\r\n    return;\r\n  }\r\n  newSrc(index, -1);\r\n}\r\nexport function onArrowRight() {\r\n  let index = +refs.lightboxImg.dataset.index;\r\n  if (index === galleryItems.length - 1) {\r\n    newSrc(0);\r\n    return;\r\n  }\r\n  newSrc(index, 1);\r\n}\r\n\r\nexport function newSrc(index, step = 0) {\r\n  refs.lightboxImg.dataset.index = `${index + step}`;\r\n  refs.lightboxImg.src = galleryItems[index + step].original;\r\n}\r\n","import galleryItems from \"./js/main\";\r\nimport {refs} from './js/refs';\r\nimport { createGallery, imgGallery } from './js/render'\r\nimport {onClickGalleryItem,onCloseButtonClick, onCloseOverlayClick,onClickEsc,onClickCloseModal,onArrowLeft,onArrowRight,newSrc} from \"./js/functions\"\r\n\r\n\r\n"]}